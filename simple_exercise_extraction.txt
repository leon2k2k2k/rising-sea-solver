FOAG Exercise Extraction Results\n\nExercise: Page30 (Page 30)\nRaw line: 30 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
f: A B, and A is said to be the source of f, and B the target of f. (Of course,
Mor(A,B)istakentobedisjointfromMor(A ,B )unlessA=A andB=B .)
→ → → →
M→orphismscomposeasexpected:thereisacompositionMor(B,C) Mor(A,B)
↗
Mor(A,C),andiff Mor(A,B)andg Mor(B,C),thentheircompositionisde-
↑ ↑
noted g f. Composition is associative: if f Mor(A,B), g Mor(B,C), and→
↔ ↑ ↑
h Mor(C,D),thenh (g f)=(h g) f. ForeachobjectA C,thereisalways
↑ ↔ ↔ ↔ ↔ ↑
anidentitymorphismid : A A,suchthatwhenyou(left-orright-)compose
A
a morphism with the identity, you get the same morphism. More precisely, for
anymorphismsf: A Bandg → : B C,id B f=fandg id B =g. (Ifyouwish,
↔ ↔
youmaycheckthat“identitymorphismsareunique”: thereisonlyonemorphism
deservingthenameid→A .) Thisends→thedefinitionofacategory.
Wehaveanotionofisomorphismbetweentwoobjectsofacategory(amor-
phismf: A Bsuchthatthereexistssome—necessarilyunique—morphism
g: B A,wheref gandg faretheidentityonBandArespectively).
↔ ↔
→
1.1.2. Example. Theprototypicalexampletokeepinmindisthecategoryofsets,
→
denotedSets. Theobjectsaresets,andthemorphismsaremapsofsets. (Because
Russell’sparadoxshowsthatthereisnosetofallsets,wedidnotsayearlierthat
thereisasetofallobjects. Butasstatedin§0.3,wearedeliberatelyomittingall
set-theoreticissues.)
1.1.3. Example. AnothergoodexampleisthecategoryVec ofvectorspacesover
k
a given field k. The objects are k-vector spaces, and the morphisms are linear
transformations. (Whataretheisomorphisms?)
1.1.A. UNIMPORTANT EXERCISE. A category in which each morphism is an
isomorphismiscalledagroupoid. (Thisnotionisnotimportantinwhatwewill
discuss. Thepointofthisexerciseistogiveyousomepracticewithcategories,by
relatingthemtoanobjectyouknowwell.)
(a)Aperversedefinitionofagroupis: agroupoidwithoneobject. Makesenseof
this. (Similarly,incaseyoucare: aperversedefinitionofamonoidis: acategory
withoneobject.)
(b)Describeagroupoidthatisnotagroup.
1.1.B.EXERCISE. IfAisanobjectinacategoryC,showthattheinvertibleelements
ofMor(A,A)formagroup(calledtheautomorphismgroupofA,denotedAut(A)).
WhataretheautomorphismgroupsoftheobjectsinExamples1.1.2and1.1.3?Show
thattwoisomorphicobjectshaveisomorphicautomorphismgroups. (Forreaders
withatopologicalbackground: ifXisatopologicalspace,thenthefundamental
groupoid is the category where the objects are points of X, and the morphisms
x yarepathsfromxtoy,uptohomotopy. Thentheautomorphismgroupof
x isthe(pointed)fundamentalgroupϑ (X,x ). InthecasewhereXisconnected,
0 1 0
an→dϑ
1
(X)isnotabelian,thisillustratesthefactthatforaconnectedgroupoid—
whosedefinitionyoucanguess—theautomorphismgroupsoftheobjectsareall
isomorphic,butnotcanonicallyisomorphic.)
1.1.4. Example: abeliangroups. Theabeliangroups,alongwithgrouphomomor-
phisms,formacategoryAb.\nContent preview: 30 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
f: A B, and A is said to be the source of f, and B the target of f. (Of course,
Mor(A,B)istakentobedisjointfromMor(A ...\n---\n\nExercise: Page34 (Page 34)\nRaw line: 34 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
thediagram
F(f)
F(A) $$F(A )
→
mA m A→
%% %%
G(A) $$G(A )
→
G(f)
commutes. Anaturalisomorphismoffunctorsisanaturaltransformationsuch
thateachm isanisomorphism. (WemakeanalogousdefinitionswhenFandG
A
arebothcontravariant.)
ThedataoffunctorsF: A B andF : B A suchthatF F isnaturally
→ →
↔
isomorphic to the identity functor id on B and F F is naturally isomorphic
B → ↔
toid
A
issaidtobeanequivale→nceofcategorie→s. Therightnotionofwhentwo
categoriesare“essentiallythesame”isnotisomorphism(afunctorgivingbijections
ofobjectsandmorphisms)butequivalence. Exercises1.1.Cand1.1.Dmightgive
yousomevaguesenseofthis. Laterexercises(forexample,that“rings”and“affine
schemes”areessentiallythesame,oncearrowsarereversed,Exercise7.3.E)may
helptoo.
Two examples might make this strange concept more comprehensible. The
doubledualofafinite-dimensionalvectorspaceV isnotV,butwelearnearlyto
saythatitiscanonicallyisomorphictoV. Wecanmakethatpreciseasfollows. Let
f.d.Vec bethecategoryoffinite-dimensionalvectorspacesoverk. Notethatthis
k
categorycontainsoodlesofvectorspacesofeachdimension.
1.1.C. EXERCISE. Let()∨∨: f.d.Vec f.d.Vec bethedoubledualfunctorfrom
· k k
thecategoryoffinite-dimensionalvectorspacesoverktoitself. Showthat()∨∨
·
is naturally isomorphic to the identi→ty functor on f.d.Vec . (Without the finite-
k
dimensionalityhypothesis,weonlygetanaturaltransformationoffunctorsfrom
idto()∨∨.)
·
LetV bethecategorywhoseobjectsarethek-vectorspacesknforeachn 0
↘
(thereisonevectorspaceforeachn),andwhosemorphismsarelineartransfor-
mations. TheobjectsofV canbethoughtofasvectorspaceswithbases,andthe
morphismsasmatrices. ThereisanobviousfunctorV f.d.Vec ,aseachknisa
k
finite-dimensionalvectorspace.
→
1.1.D. EXERCISE. Show that V f.d.Vec gives an equivalence of categories,
k
bydescribingan“inverse”functor. (Recallthatwearebeingcavalieraboutset-
theoretic assumptions, see Cautio→n 0.3.1, so feel free to simultaneously choose
basesforeachvectorspaceinf.d.Vec . Tomakethisprecise,youwillneedtouse
k
Go¨del-Bernayssettheoryorelsereplacef.d.Vec withaverysimilarsmallcategory,
k
butwewon’tworryaboutthis.)
1.1.22. ωω Aside for experts. Your argument for Exercise 1.1.D will show that
(moduloset-theoreticissues)thisdefinitionofequivalenceofcategoriesisthesame
asanotheronecommonlygiven: acovariantfunctorF: A Bisanequivalence
ofcategoriesifitisfullyfaithfulandeveryobjectofBisisomorphictoanobject
oftheformF(A)forsomeA A (Fisessentiallysurjecti→ve,atermwewillnot
↑
need).\nContent preview: 34 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
thediagram
F(f)
F(A) $$F(A )
→
mA m A→
%% %%
G(A) $$G(A )
→
G(f)
commutes. Anaturalisomorphismoffunctorsisanaturaltra...\n---\n\nExercise: Page35 (Page 35)\nRaw line: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 35
1.2Universalpropertiesdetermineanobjectuptounique
isomorphism
Givensomecategorythatwecomeupwith,weoftenwillhavewaysofpro-
ducing new objects from old. In good circumstances, such a definition can be
madeusingthenotionofauniversalproperty. Informally,wewishthattherewere
anobjectwithsomeproperty. Wefirstshowthatifitexists,thenitisessentially
unique,ormoreprecisely,isuniqueuptouniqueisomorphism. Thenwegoabout
constructinganexampleofsuchanobjecttoshowexistence.
Explicitconstructionsaresometimeseasiertoworkwiththanuniversalprop-
erties,butwithalittlepractice,universalpropertiesareusefulinprovingthings
quicklyandslickly. Indeed,whenlearningthesubject,peopleoftenfindexplicit
constructions more appealing, and use them more often in proofs, but as they
becomemoreexperienced,theyfinduniversalpropertyargumentsmoreelegant
andinsightful.
1.2.1. Productsweredefinedbyauniversalproperty. Wehaveseenoneimpor-
tantexampleofauniversalpropertyargumentalreadyin§1.0.1: products. You
should go back and verify that our discussion there gives a notion of product
in any category, and shows that products, if they exist, are unique up to unique
isomorphism.
1.2.2.Initial,final,andzeroobjects. Herearesomesimplebutusefulconceptsthat
willgiveyoupracticewithuniversalpropertyarguments. Anobjectofacategory
C isaninitialobjectifithaspreciselyonemaptoeveryobject. Itisafinalobjectif
ithaspreciselyonemapfromeveryobject. Itisazeroobjectifitisbothaninitial
objectandafinalobject.
1.2.A.EXERCISE. Showthatanytwoinitialobjectsareuniquelyisomorphic. Show
thatanytwofinalobjectsareuniquelyisomorphic.
Inotherwords,ifaninitialobjectexists,itisuniqueuptouniqueisomorphism,
andsimilarlyforfinalobjects. This(partially)justifiesthephrase“theinitialobject”
rather than “an initial object”, and similarly for “the final object” and “the zero
object”. (Convention: we often say “the”, not “a”, for anything defined up to
uniqueisomorphism.)
1.2.B. EXERCISE. WhataretheinitialandfinalobjectsinSets,Rings,andTop(if
theyexist)? Howaboutinthetwoexamplesof§1.1.9?
1.2.3. Localizationofringsandmodules. Anotherimportantexampleofadefi-
nitionbyuniversalpropertyisthenotionoflocalizationofaring. Wefirstreview
a constructive definition, and then reinterpret the notion in terms of universal
property. AmultiplicativesubsetSofaringAisasubsetclosedundermultipli-
cationcontaining1. WedefinearingS!1A. TheelementsofS!1Aareoftheform
a/s where a A and s S, and where a /s = a /s if (and only if) for some
1 1 2 2
↑ ↑
s S, s(s a !s a ) = 0. We define (a /s )+(a /s ) = (s a +s a )/(s s ),
2 1 1 2 1 1 2 2 2 1 1 2 1 2
↑
and (a /s ) (a /s ) = (a a )/(s s ). (If you wish, you may check that this
1 1 2 2 1 2 1 2
↗
equalityoffractionsreallyisanequivalencerelationandthetwobinaryoperations
onfractionsarewell-definedonequivalenceclassesandmakeS!1Aintoaring.)\nContent preview: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 35
1.2Universalpropertiesdetermineanobjectuptounique
isomorphism
Givensomecategorythatwecomeupwith,weoftenwillhavewaysofpro-
ducing new objects from...\n---\n\nExercise: Page36 (Page 36)\nRaw line: 36 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
Wehaveacanonicalringmap
(1.2.3.1) A $$S!1A
givenbya a/1. Notethatif0 S,S!1Aisthe0-ring.
⇐ ↑
Therearetwoparticularlyimportantflavorsofmultiplicativesubsets. Thefirst
is{1,f,f2,..→.},wheref A. ThislocalizationisdenotedA
f
. (Canyoudescribean
∼ ↑
isomorphismA A[t]/(tf!1)?) ThesecondisA\p,wherepisaprimeideal.
f
ThislocalizationS!1AisdenotedA . (Notationalwarning: Ifpisaprimeideal,
p
thenA
p
meansyo↑u→’reallowedtodividebyelementsnotinp. However,iff A,
↑
A meansyou’reallowedtodividebyf. Thiscanbeconfusing. Forexample,if(f)
f
isaprimeideal,thenA =A .)
f
→
(f)
Warning: sometimeslocalizationisfirstintroducedinthespecialcasewhereA
isanintegraldomainand0 / S. Inthatcase,Aε S!1A,butthisisn’talwaystrue,
↑
asshownbythefollowingexercise. (Butwewillseethatnoninjectivelocalizations
needn’tbepathological,andwecansometimesu→nderstandthemgeometrically,see
Exercise3.2.L.)
1.2.C. EXERCISE. Show that A S!1A is injective if and only if S contains no
zerodivisors. (AzerodivisorofaringAisanelementasuchthatthereisanonzero
elementbwithab=0. Theother→elementsofAarecallednon-zerodivisors. For
example,aninvertibleelementisneverazerodivisor. Counter-intuitively,0isa
zerodivisorineveryringbutthe0-ring. Moregenerally,ifMisanA-module,then
a AisazerodivisorforMifthereisanonzerom Mwitham=0. Theother
↑ ↑
elementsofAarecallednon-zerodivisorsforM. Equivalently,andveryusefully,
a A is a non-zerodivisor for M if and only if a : M M is an injection, or
↑ ↗
equivalentlyinthelanguageof§1.5,if
→
a
0 $$M ↓ $$M
isexact.)
IfAisanintegraldomainandS=A\{0},thenS!1Aiscalledthefractionfield
ofA,whichwedenoteK(A). ThepreviousexerciseshowsthatAisasubringofits
fractionfieldK(A). WenowreturntothecasewhereAisageneral(commutative)
ring.
1.2.D.EXERCISE. VerifythatA S!1Asatisfiesthefollowinguniversalproperty:
S!1AisinitialamongA-algebrasBwhereeveryelementofSissenttoaninvertible
elementinB. (Recall: thedatao→f“anA-algebraB”and“aringmapA B”are
the same.) Translation: any map A B where every element of S is sent to an
invertibleelementmustfactoruniquelythroughA S!1A. Anothertra→nslation:
aringmapoutofS!1Aisthesamet→hingasaringmapfromAthatsendsevery
elementofStoaninvertibleelement. Furthermore,→anS!1A-moduleisthesame
thingasanA-moduleforwhichs : M MisanA-moduleisomorphismforall
↗·
s S.
↑
In fact, it is cleaner to define A S→!1A by the universal property, and to
showthatitexists,andtousetheuniversalpropertytocheckvariousproperties
S!1Ahas. Let’sgetsomepracticew→iththisbydefininglocalizationsofmodules
byuniversalproperty. SupposeMisanA-module. WedefinetheA-modulemap\nContent preview: 36 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
Wehaveacanonicalringmap
(1.2.3.1) A $$S!1A
givenbya a/1. Notethatif0 S,S!1Aisthe0-ring.
⇐ ↑
Therearetwoparticularlyim...\n---\n\nExercise: Page37 (Page 37)\nRaw line: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 37
ϖ: M S!1MasbeinginitialamongA-modulemapsM Nsuchthatelements
of S are invertible in N (s : N N is an isomorphism for all s S). More
↗· ↑
precise→ly,anysuchmapα: M Nfactorsuniquelythrou→ghϖ:
→ ε
M $$S!1M
→
!
ϑ ↑
’’ %%
N
(Translation: M S!1Misuniversal(initial)amongA-modulemapsfromMto
modulesthatareactuallyS!1A-modules. Canyoumakethisprecisebydefining
clearlytheobject→sandmorphismsinthiscategory?)
Notice: (i) this determines ϖ: M S!1M up to unique isomorphism (you
shouldthinkthroughwhatthismeans);(ii)wearedefiningnotonlyS!1M,but
alsothemapϖatthesametime;and(→iii)essentiallybydefinitiontheA-module
structureonS!1MextendstoanS!1A-modulestructure.
1.2.E. EXERCISE. Show that ϖ: M S!1M exists, by constructing something
satisfying the universal property. Hint: define elements of S!1M to be of the
formm/swherem Mands S,→andm
1
/s
1
= m
2
/s
2
ifandonlyifforsome
↑ ↑
s S,s(s m !s m )=0. Definetheadditivestructureby(m /s )+(m /s )=
2 1 1 2 1 1 2 2
↑
(s m +s m )/(s s ),andtheS!1A-modulestructure(andhencetheA-module
2 1 1 2 1 2
structure)isgivenby(a /s ) (m /s )=(a m )/(s s ).
1 1 2 2 1 2 1 2
·
1.2.F.EXERCISE.
(a) Show that localization commutes with finite products, or equivalently, with
finite direct sums. In other words, if M , ..., M are A-modules, describe an
1 n
isomorphism (of A-modules, and of S!1A-modules) S!1(M M )
1 n
↗ ··· ↗
S!1M S!1M .
1 n
↗···↗
(b)Showthatlocalizationcommuteswitharbitrarydirectsums. →
(c)Showthat“localizationdoesnotnecessarilycommutewithinfiniteproducts”:
theobviousmapS!1( M ) S!1M inducedbytheuniversalpropertyof
i i i i
localizationisnotalwaysanisomorphism. (Hint: (1,1/2,1/3,1/4,...) Q Q
↓ ↓ ↑ ↗ ↗
.) →
···
1.2.4. Remark. Localization does not always commute with Hom, see Exam-
ple1.5.10. ButExercise1.5.Hwillshowthatingoodsituations(ifthefirstargument
ofHomisfinitelypresented),localizationdoescommutewithHom.
1.2.5. Tensor products. Another important example of a universal property
constructionisthenotionofatensorproductofA-modules
: obj(Mod ) obj(Mod ) $$obj(Mod )
A A A A
⇒ ↗
(M,N)! $$M N
A
⇒
The subscript A is often suppressed when it is clear from context. The tensor
productisoftendefinedasfollows. SupposeyouhavetwoA-modulesMandN.
ThenelementsofthetensorproductM NarefiniteA-linearcombinationsof
A
⇒
symbolsm n(m M,n N),subjecttorelations(m +m ) n=m n+m n,
1 2 1 2
⇒ ↑ ↑ ⇒ ⇒ ⇒\nContent preview: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 37
ϖ: M S!1MasbeinginitialamongA-modulemapsM Nsuchthatelements
of S are invertible in N (s : N N is an isomorphism for all s S). More
↗· ↑
precise→l...\n---\n\nExercise: Page38 (Page 38)\nRaw line: 38 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
m (n +n )=m n +m n ,a(m n)=(am) n=m (an)(wherea A,
1 2 1 2
⇒ ⇒ ⇒ ⇒ ⇒ ⇒ ↑
m ,m M,n ,n N). Moreformally,M NisthefreeA-modulegenerated
1 2 1 2 A
↑ ↑ ⇒
byM N,quotientedbythesubmodulegeneratedby(m +m ,n)!(m ,n)!
1 2 1
↗
(m ,n),(m,n +n )!(m,n )!(m,n ),a(m,n)!(am,n),anda(m,n)!(m,an)
2 1 2 1 2
fora A,m,m ,m M,n,n ,n N. Theimageof(m,n)inthisquotientis
1 2 1 2
↑ ↑ ↑
m n.
⇒
IfAisafieldk,werecoverthetensorproductofvectorspaces.
1.2.G.EXERCISE(IFYOUHAVEN’TSEENTENSORPRODUCTSBEFORE). Showthat
∼
Z/(10) Z/(12)=Z/(2).(Thisexerciseisintendedtogivesomehands-onpractice
⇒Z
withtensorproducts.)
1.2.H.IMPORTANTEXERCISE: RIGHT-EXACTNESSOF()
A
N. Showthat()
A
N
· ⇒ · ⇒
gives a covariant functor Mod Mod . Show that () N is a right-exact
A A A
· ⇒
functor,i.e.,if
M M M 0
→→ →→
isanexactsequenceofA-modules(whichmeansf: M M issurjective,andM
→→ →
surjectsontothekerneloff;see§1→.5),th→enthei→nducedsequence
M N M N M N→ 0
→ A A →→ A
⇒ ⇒ ⇒
isalsoexact. ThisexerciseisrepeatedinExercise1.5.G,butyoumaygetalotoutof
doingitnow. (Youwillberemin→dedofthed→efinitionofr→ight-exactnessin§1.5.6.)
Incontrast,youcanquicklycheckthattensorproductisnotleft-exact: tensor
theexactsequenceofZ-modules
2
0 $$Z ↓ $$Z $$Z/(2) $$0
withZ/(2).
Theconstructivedefinitionof isaweirddefinition,andreallythe“wrong”
⇒
definition. Tomotivateabetterone: noticethatthereisanaturalA-bilinearmap
M N M N. (If M,N,P Mod , a map f: M N P is A-bilinear if
A A
↗ ⇒ ↑ ↗
f(m +m ,n) = f(m ,n)+f(m ,n), f(m,n +n ) = f(m,n )+f(m,n ), and
1 2 1 2 1 2 1 2
f(am,n)
→
=f(m,an)=af(m,n).) AnyA-bilinearmapM N
→
Pfactorsthrough
↗
thetensorproductuniquely: M N M N P. (Thinkthisthrough!)
A
↗ ⇒
We can take this as the definition of the tensor product →as follows. It is an
A-module T along with an A-bilinea→r map t: M → N T, such that given any
↗
A-bilinearmapt : M N T , thereisauniqueA-linearmapf: T T such
→ → →
↗
thatt
→
=f t.
→
↔
t
→M N $$T →
↗
t→ ’’ (( ↑ !f
T
→
1.2.I.EXERCISE. Showthat(T,t: M N T)isuniqueuptouniqueisomorphism.
↗
Hint: firstfigureoutwhat“uniqueuptouniqueisomorphism”meansforsuch
pairs,usingacategoryofpairs(T,t). The→nfollowtheanalogousargumentforthe
product.
In short: given M and N, there is an A-bilinear map t: M N M N,
A
↗ ⇒
uniqueuptouniqueisomorphism,definedbythefollowinguniversalproperty:for
→\nContent preview: 38 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
m (n +n )=m n +m n ,a(m n)=(am) n=m (an)(wherea A,
1 2 1 2
⇒ ⇒ ⇒ ⇒ ⇒ ⇒ ↑
m ,m M,n ,n N). Moreformally,M NisthefreeA-m...\n---\n\nExercise: Page39 (Page 39)\nRaw line: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 39
anyA-bilinearmapt : M N T thereisauniqueA-linearmapf: M N T
→ → A →
↗ ⇒
suchthatt =f t.
→
↔
Aswithalluniversalprop→ertyarguments,thisargumentshowsunique→ness
assumingexistence. Toshowexistence,weneedanexplicitconstruction.
1.2.J.EXERCISE. Showthattheconstructionof§1.2.5satisfiestheuniversalproperty
oftensorproduct.
Thethreeexercisesbelowareusefulfactsabouttensorproductswithwhich
youshouldbefamiliar.
1.2.K.IMPORTANTEXERCISE.
(a) If M is an A-module and A B is a morphism of rings, give B M the
A
⇒
structureofaB-module(thisispartoftheexercise). Showthatthisdescribesa
functorMod A Mod B . →
(b)(tensorproductofrings)IffurtherA Cisanothermorphismofrings,show
thatB
A
Cha→sanaturalstructureofaring. Hint: multiplicationwillbegivenby
⇒
(b
1
c
1
)(b
2
c
2
)=(b
1
b
2
) (c
1
c
2
). (Exe→rcise1.2.Uwillinterpretthisconstruction
⇒ ⇒ ⇒
asafiberedcoproduct.)
1.2.L. IMPORTANT EXERCISE. If S is a multiplicative subset of A and M is an
A-module, describe a natural isomorphism (S!1A) M ∼ S!1M (as S!1A-
A
⇒ ⇑
modulesandasA-modules).
→
1.2.M.EXERCISE ( COMMUTES WITH ). Showthattensorproductscommute
⇒ ⇓
witharbitrarydirectsums: ifMand{N } areallA-modules,describeanisomor-
i i I
↔
phism
∼
M ( N ) $$ (M N ).
i I i i I i
⇒ ⇓ ↔ ⇓ ↔ ⇒
1.2.6. EssentialExample: Fiberedproducts. Supposewehavemorphismsα: X
Zandβ: Y Z(inanycategory). Thenthefiberedproduct(orfibredproduct)is
anobjectX
Z
Y alongwithmorphismspr
X
: X
Z
Y Xandpr
Y
: X
Z
Y
→
Y,
↗ ↗ ↗
wherethetw→ocompositionsα pr
X
,β pr
Y
: X
Z
Y Zagree,suchthatgiven
↔ ↔ ↗
anyobjectW withmapstoXandY (whosecompositio→nstoZagree),thesem→aps
factorthroughsomeuniqueW X
Z
Y:
→
↗
W
→
!
↑
’’
X Y **$$Y
↗ Z prY
prX ϖ
)) %% %%
ϑ
X $$Z
(Warning: thedefinitionofthefiberedproductdependsonαandβ,eventhough
theyareomittedfromthenotationX Y.)
Z
↗
Bytheusualuniversalpropertyargument,ifitexists,itisuniqueuptounique
isomorphism. (Youshouldthinkthisthroughuntilitiscleartoyou.) Thustheuse
ofthephrase“thefiberedproduct”(ratherthan“afiberedproduct”)isreasonable,\nContent preview: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 39
anyA-bilinearmapt : M N T thereisauniqueA-linearmapf: M N T
→ → A →
↗ ⇒
suchthatt =f t.
→
↔
Aswithalluniversalprop→ertyarguments,thisargumentshow...\n---\n\nExercise: Page40 (Page 40)\nRaw line: 40 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
andweshouldreasonablybeallowedtogiveitthenameX Y. Weknowwhat
Z
↗
mapstoitare: theyarepreciselymapstoXandmapstoY thatagreeasmapstoZ.
1.2.7. Definition. As an example, if ϑ: X Y is a morphism, and the fibered
productX Xexists,thenthisdeterminesadiagonalmorphismφ : X X X.
Y π Y
↗ ↗
Thediagonalmorphismwillturnouttobea→veryusefulnotion.
Dependingonyourreligion,thediagram →
X Y
prY
$$Y
Z
↗
prX ϖ
%% %%
ϑ
X $$Z
iscalledafibered/pullback/Cartesiandiagram/square(sixpossibilities—andeven
morearepossibleifyouprefer“fibred”to“fibered”).
Therightwaytointerpretthenotionoffiberedproductisfirsttothinkabout
whatitmeansinthecategoryofsets.
1.2.N.EXERCISE(FIBEREDPRODUCTSOFSETS). ShowthatinSets,
X Y ={(x,y) X Y : α(x)=β(y)}.
Z
↗ ↑ ↗
Moreprecisely,showthattherightside,equippedwithitsevidentmapstoXand
Y,satisfiestheuniversalpropertyofthefiberedproduct. (Thiswillhelpyoubuild
intuitionforfiberedproducts.)
1.2.O.EXERCISE. IfXisatopologicalspace,showthatfiberedproductsalways
exist in the category of open sets of X, by describing what a fibered product is.
(Hint: ithasaone-worddescription.)
1.2.P.EXERCISE. IfZisthefinalobjectinacategoryC,andX,Y C,showthat
↑
“X Y = X Y”: “the”fiberedproductoverZisuniquelyisomorphicto“the”
Z
↗ ↗
product. Assumeallrelevant(fibered)productsexist. (Thisisanexerciseabout
unwindingthedefinition.)
1.2.Q. USEFUL EXERCISE: TOWERS OF CARTESIAN DIAGRAMS ARE CARTESIAN
DIAGRAMS. IfthetwosquaresinthefollowingcommutativediagramareCartesian
diagrams,showthatthe“outsiderectangle”(involvingU,V,Y,andZ)isalsoa
Cartesiandiagram.
U $$V
%% %%
W $$X
%% %%
Y $$Z
1.2.R.EXERCISE. GivenmorphismsX
1
Y,X
2
Y,andY Z,showthatthere
isanaturalmorphismX X X X ,assumingthatbothfiberedproducts
1 Y 2 1 Z 2
↗ ↗
exist. (Thisistrivialonceyoufigureoutw→hatitis→saying. The→pointofthisexercise
istoseewhyitistrivial.) →\nContent preview: 40 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
andweshouldreasonablybeallowedtogiveitthenameX Y. Weknowwhat
Z
↗
mapstoitare: theyarepreciselymapstoXandmapstoY thata...\n---\n\nExercise: Page41 (Page 41)\nRaw line: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 41
1.2.S.IMPORTANTEXERCISE: THEDIAGONAL-BASE-CHANGEDIAGRAM. Suppose
wearegivenmorphismsX ,X Y andY Z. Showthatthefollowingdiagram
1 2
isaCartesiansquare.
→ →
X X $$X X
1 Y 2 1 Z 2
↗ ↗
%% %%
Y $$Y Y
Z
↗
Assumeallrelevant(fibered)productsexist. (Ifthisexerciseistoohardnow,you
cantryitagainatExercise1.3.B.)Youwillappreciatehowusefulthisdiagramis
whenyourepeatedlyusethediagonalmorphisminproofsandconstructions.
Ifyoulikedthisproblem,youmayenjoyExercise11.1.C.
1.2.8. Coproducts. Definecoproductinacategorybyreversingallthearrowsinthe
definitionofproduct. Definefiberedcoproductinacategorybyreversingallthe
arrowsinthedefinitionoffiberedproduct. Coproductisdenotedby .
1.2.T.EXERCISE. ShowthatcoproductforSetsisdisjointunion. Thi↔siswhywe
usethenotation fordisjointunion.
1.2.U. EXERCISE.↔Suppose A B and A C are two ring morphisms, so in
particularBandCareA-modules. Recall(Exercise1.2.K)thatB Chasaring
A
⇒
structure. Showthatthereisana→turalmorph→ismB B
A
Cgivenbyb b 1.
⇒ ⇐ ⇒
(Thisisnotnecessarilyaninclusion;seeExercise1.2.G.)Similarly,thereisanatural
morphismC B
A
C. Showthatthisgivesafibere→dcoproductonrings,→i.e.,that
⇒
B C++ C
→ ⇒,, A ,,
B++ A
satisfiestheuniversalpropertyoffiberedcoproduct.
1.2.9. Monomorphismsandepimorphisms.
1.2.10. Definition. A morphism ϑ: X Y is a monomorphism if any two
morphisms µ : Z X and µ : Z X such that ϑ µ = ϑ µ must satisfy
1 2 1 2
↔ ↔
µ
1
=µ
2
. Inotherwords,thereisatmoston→ewayoffillinginthedottedarrowso
thatthediagram → →
Z
1
↗
%% --
X $$Y
π
commutes — for any object Z, the natural map Mor(Z,X) Mor(Z,Y) is an
injection. Intuitively,itisthecategoricalversionofaninjectivemap,andindeed
thisnotiongeneralizesthefamiliarnotionofinjectivemapso→fsets. (Thereason
wedon’tusetheword“injective”isthatinsomecontexts,“injective”willhave
anintuitivemeaningwhichmaynotagreewith“monomorphism”. Oneexample:
in the category of divisible groups, the map Q Q/Z is a monomorphism but
→\nContent preview: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 41
1.2.S.IMPORTANTEXERCISE: THEDIAGONAL-BASE-CHANGEDIAGRAM. Suppose
wearegivenmorphismsX ,X Y andY Z. Showthatthefollowingdiagram
1 2
isaCartesiansq...\n---\n\nExercise: Page42 (Page 42)\nRaw line: 42 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
notinjective. Thisisalsothecasewith“epimorphism”(tobedefinedshortly)vs.
“surjective”.)
1.2.V.EXERCISE. Showthatthecompositionoftwomonomorphismsisamonomor-
phism.
1.2.W. EXERCISE. Provethatamorphismϑ: X Y isamonomorphismifand
only if the fibered product X X exists, and the induced diagonal morphism
Y
↗
φ
π
: X X
Y
X(Definition1.2.7)isanisomorphi→sm. Wemaythentakethisasthe
↗
definitionofmonomorphism.(Monomorphismsaren’tcentraltofuturediscussions,
althou→ghtheywillcomeupagain. Thisexerciseisjustgoodpractice.)
1.2.X.EASYEXERCISE. WeusethenotationofExercise1.2.R.ShowthatifY Z
isamonomorphism,thenthemorphismX X X X youdescribedin
1 Y 2 1 Z 2
↗ ↗
Exercise1.2.Risanisomorphism. (Hint: foranyobjectV,giveanaturalbijec→tion
betweenmapsfromV tothefirstandmapsfromV to→thesecond. Itisalsopossible
tousetheDiagonal-Base-Changediagram,Exercise1.2.S.)
Thenotionofanepimorphismis“dual”tothedefinitionofmonomorphism,
whereallthearrowsarereversed. Thisconceptwillnotbecentralforus,although
itturnsupinthedefinitionofanabeliancategory. Intuitively,itisthecategorical
versionofasurjectivemap. (Butbecarefulwhenworkingwithcategoriesofobjects
that are sets with additional structure, as epimorphisms need not be surjective.
Example: in the category Rings, Z Q is an epimorphism, but obviously not
surjective.)
→
1.2.11. RepresentablefunctorsandYoneda’sLemma. Muchofourdiscussion
about universal properties can be cleanly expressed in terms of representable
functors,undertherubricof“Yoneda’sLemma”. Yoneda’slemmaisaneasyfact
statedinacomplicatedway. Informallyspeaking,youcanessentiallyrecoveran
objectinacategorybyknowingthemapsintoit. Forexample,wehaveseenthat
thedataofmapstoX Yarenaturally(canonically)thedataofmapstoXandtoY.
↗
Indeed,wehavenowtakenthisasthedefinitionofX Y.
↗
RecallExample1.1.20. SupposeAisanobjectofcategoryC. Foranyobject
C C,wehaveasetofmorphismsMor(C,A). Ifwehaveamorphismf: B C,
↑
wegetamapofsets
→
(1.2.11.1) Mor(C,A) $$Mor(B,A),
bycomposition: givenamapfromCtoA,wegetamapfromBtoAbyprecom-
posing with f: B C. Hence this gives a contravariant functor h : C Sets.
A
Yoneda’s Lemma states that the functor h determines A up to unique isomor-
A
phism. Morepreci→sely: →
1.2.Y.IMPORTANTEXERCISETHATYOUSHOULDDOONCEINYOURLIFE(YONEDA’S
LEMMA).
(a)SupposeyouhavetwoobjectsAandA inacategoryC,andmaps
→
(1.2.11.2) i : Mor(C,A) $$Mor(C,A )
C →
that commute with the maps (1.2.11.1). Show that the i (as C ranges over the
C
objects of C) are induced from a unique morphism g: A A . More precisely,
→
→\nContent preview: 42 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
notinjective. Thisisalsothecasewith“epimorphism”(tobedefinedshortly)vs.
“surjective”.)
1.2.V.EXERCISE. Showthatthecom...\n---\n\nExercise: Page43 (Page 43)\nRaw line: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 43
show that there is a unique morphism g: A A such that for all C C, i is
→ C
↑
u g u.
⇐ ↔
(b)Iffurthermorethei
C
areallbijections,sho→wthattheresultinggisanisomor-
ph→ism. (Hintforboth:Thisismucheasierthanitlooks. Thisstatementissogeneral
thattherearereallyonlyacoupleofthingsthatyoucouldpossiblytry.Forexample,
ifyou’rehopingtofindamorphismA A ,wherewillyoufindit? Well,you
→
arelookingforanelementMor(A,A ). SojustpluginC=Ato(1.2.11.2),andsee
→
wheretheidentitygoes.) →
Thereisananalogousstatementwiththearrowsreversed,whereinsteadof
mapsintoA,youthinkofmapsfromA. Theroleofthecontravariantfunctorh of
A
Example1.1.20isplayedbythecovariantfunctorhAofExample1.1.14. Because
theproofisthesame(withthearrowsreversed),youneedn’tthinkitthrough.
Thephrase“Yoneda’sLemma”properlyreferstoamoregeneralstatement.
Althoughitlooksmorecomplicated,itisnohardertoprove.
1.2.Z.ωEXERCISE.
(a)SupposeAandBareobjectsinacategoryC. Giveabijectionbetweenthenatu-
raltransformationshA hB ofcovariantfunctorsC Sets(seeExample1.1.14
forthedefinition)andthemorphismsB A.
(b)Stateandprovethec→orrespondingfactforcontrav→ariantfunctorsh
A
(seeEx-
ample 1.1.20). Remark: A contravarian→t functor F from C to Sets is said to be
representableifthereisanaturalisomorphism
∼
ξ: F $$h .
A
ThustherepresentingobjectAisdetermineduptouniqueisomorphismbythepair
(F,ξ).Thereisasimilardefinitionforcovariantfunctors.(Wewillrevisitthisin§7.6,
andthisproblemwillappearagainasExercise7.6.C.Theelementξ!1(id ) F(A)
A
↑
isoftencalledthe“universalobject”;doyouseewhy?)
(c) Yoneda’s Lemma. Suppose F is a covariant functor C Sets, and A C.
↑
Give a bijection between the natural transformations hA F and F(A). (The
correspondingfactforcontravariantfunctorsisessentiallyEx→ercise10.1.B.)
Infancyterms,Yoneda’slemmastatesthefollowing. Gi→venacategoryC,we
canproduceanewcategory,calledthefunctorcategoryofC,wheretheobjectsare
contravariantfunctorsC Sets,andthemorphismsarenaturaltransformations
ofsuchfunctors. Wehaveafunctor(whichwecanusefullycallh)fromC toits
functorcategory,whichse→ndsAtoh
A
. Yoneda’sLemmastatesthatthisisafully
faithfulfunctor,calledtheYonedaembedding. (Fullyfaithfulfunctorsweredefined
in§1.1.15.)
1.2.12. Joke. TheYodaembedding,contravariantitis.
1.3Limitsandcolimits
Limits and colimits are two important definitions determined by universal
properties. They generalize a number of familiar constructions. I will give the
definitionfirst,andthenshowyouwhyitisfamiliar. Forexample,fractionswill\nContent preview: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 43
show that there is a unique morphism g: A A such that for all C C, i is
→ C
↑
u g u.
⇐ ↔
(b)Iffurthermorethei
C
areallbijections,sho→wthattheresu...\n---\n\nExercise: Page45 (Page 45)\nRaw line: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 45
IfI isaset(i.e.,theonlymorphismsaretheidentitymaps),thenthelimitis
calledtheproductoftheA ,andisdenoted A . ThespecialcasewhereI has
i i i
twoelementsistheexampleofthepreviousparagraph.
↓
1.3.A.EXERCISE(REALITYCHECK). SupposethatthepartiallyorderedsetI has
aninitialobjecte. ShowthatthelimitofanydiagramindexedbyI exists.
1.3.B.EXERCISE: THEDIAGONAL-BASE-CHANGEDIAGRAM,AGAIN. Solve1.2.S
againbyidentifyingbothX X andY (X X )asthelimitofthe
1
↗
Y 2 ↗(Y ↓ZY) 1
↗
Z 2
diagram
X
1
--
Y $$Z
//
X
2
1.3.3. Example: formalpowerseries. ForaringA,the(formal)powerseries,A[[x]],
areoftendescribedinformally(andsomewhatunnaturally)asbeingthering
A[[x]]={a +a x+a x2+ }
0 1 2
···
(wherea A,andtheringoperationsarethe“obvious”ones). Itisanexampleof
i
↑
alimitinthecategoryofrings:
A[[x]]
$$A 00 [x]/(x3) 11 $$A[x]/(x2) 22 $$A[x]/(x).
···
TheuniversalpropertyoflimitsyieldsanaturalringmorphismA[x] A[[x]]. If
A=RorC,thismapfactorsthroughtheringofconvergentpowerseries.
→
1.3.4. Example: the p-adic integers. For a prime number p, the p-adic integers
(ormoreinformally,p-adics),Zp ,areoftendescribedinformally(andsomewhat
unnaturally)asbeingoftheform
a +a p+a p2+
0 1 2
···
(where0 a <p). Theyareanexampleofalimitinthecategoryofrings:
i
⇔
Zp
$$Z .. /(p3) ** $$Z/(p2) 33 $$Z/(p).
···
(Warning: Zp is sometimes used to denote the integers modulo p, but Z/(p) or
Z/pZisbettertouseforthis,toavoidconfusion. Worse: by§1.2.3,Zp alsodenotes
thoserationalswhosedenominatorsareapowerofp. Hopefullythemeaningof
Zp willbeclearfromthecontext.)\nContent preview: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 45
IfI isaset(i.e.,theonlymorphismsaretheidentitymaps),thenthelimitis
calledtheproductoftheA ,andisdenoted A . ThespecialcasewhereI has
i i i
twoele...\n---\n\nExercise: Page46 (Page 46)\nRaw line: 46 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
The similarity of Examples 1.3.3 and 1.3.4 is no coincidence. Formal power
seriesandthep-adicintegersareexamplesofcompletions,thetopicofChapter28.
LimitsdonotalwaysexistforanyindexcategoryI. However,youcanoften
easilycheckthatlimitsexistiftheobjectsofyourcategorycanbeinterpretedas
setswithadditionalstructure,andarbitraryproductsexist(respectingtheset-like
structure).
1.3.C.IMPORTANTEXERCISE. ShowthatinthecategorySets,
(a ) A :F(m)(a )=a forallm Mor (j,k) Mor(I) ,
↗ i i ↔ I ↑ i j k ↑ I ≃ ’
i
↘
alongwiththeobviousprojectionmapstoeachA ,isthelimitlimA .
i i
I
ThisclearlyalsoworksinthecategoryMod ofA-modules(inparticularVec
A k
andAb),aswellasRings.
From this point of view, 2+3p+2p2 + Zp can be understood as the
··· ↑
sequence(2,2+3p,2+3p+2p2,...).
1.3.5. Colimits. Moreimmediatelyrelevantforuswillbethedual(arrow-reversed
version)ofthenotionoflimit(orinverselimit).Wejustflipthearrowsf in(1.3.1.1),
i
and get the notion of a colimit, which is denoted colim A (or lim A ). (You
I i I i
should draw the corresponding diagram.) Again, if it exists, it is⇑unique up to
unique isomorphism. (In some cases, the colimit is sometimes called the direct
→
limit, inductive limit, or injective limit. We won’t use this language. I prefer
usinglimit/colimitinanalogywithkernel/cokernelandproduct/coproduct. This
ismorethananalogy,askernelsandproductsmaybeinterpretedaslimits,and
similarlywithcokernelsandcoproducts. Also,Irememberthatkernels“mapto”,
and cokernels are “mapped to”, which reminds me that a limit maps to all the
objectsinthebigcommutativediagramindexedbyI;andacolimithasamap
fromalltheobjects.)
1.3.6. Joke. Acomathematicianisadeviceforturningcotheoremsintoffee.
Eventhoughwehavejustflippedthearrows,colimitsbehavequitedifferently
fromlimits.
1.3.7. Example. Theabeliangroup5! Zofrationalnumberswhosedenominators
arepowersof5isacolimitcolim i Z+→ 5!i Z. Moreprecisely,5! Zisthecolimitof
↔
thediagram
→
Z $$5!1 Z $$5!2 Z $$
···
inthecategoryofabeliangroups.
ThecolimitoveranindexsetIiscalledthecoproduct,denoted A ,andis
i i
thedual(arrow-reversed)notiontotheproduct.
↔
1.3.D.EXERCISE.
(a)Interpretthestatement“Q=colim 1 Z”.
n
(b) Interpret the union of some subsets of a given set as a colimit. (Dually, the
intersectioncanbeinterpretedasalimit.) Theobjectsofthecategoryinquestion
arethesubsetsofthegivenset.\nContent preview: 46 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
The similarity of Examples 1.3.3 and 1.3.4 is no coincidence. Formal power
seriesandthep-adicintegersareexamplesofcom...\n---\n\nExercise: Page47 (Page 47)\nRaw line: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 47
Colimitsdonotalwaysexist,buttherearetwousefullargeclassesofexamples
forwhichtheydo.
1.3.8. Definition. Anonemptypartiallyorderedset(S, )isfiltered(orissaidto
↘
beafilteredset)ifforeachx,y S,thereisazsuchthatx zandy z. More
↑ ↘ ↘
generally(seeFigure1.1,anonemptycategoryI isfilteredif:
(i) foreachx,y I,thereisaz I andarrowsx zandy z,and
↑ ↑
(ii) foreverytwoarrowsu: x yandv: x y,thereisanarroww: y z
suchthatw u=w v.
→ →
↔ ↔
(Otherterminologiesarealsocomm→onlyused,suc→has“directedpartiallyorde→red
set”and“filteredindexcategory”,respectively.)
FIGURE1.1. Afilteredcategory(pictorialdefinition)
1.3.E.EXERCISE. SupposeI isfiltered. (Wewillalmostexclusivelyusethecase
whereI isafilteredset.) Recallthesymbol fordisjointunionofsets. Showthat
anydiagraminSetsindexedbyI hasthefollowing,withtheobviousmapstoit,
↔
asacolimit:
(a ,i)∼(a ,j)ifandonlyiftherearef: A A and
(a ,i) A i j i k
i i
↑ g: A A inthediagramforwhichf(a )=g(a )inA
⇐ i ⇒↔ I ⇑!" j k i → j k#
(Youwillseethatthe“filtered”hypothesisisthereistoensurethat∼isanequiva-
→
lencerelation.)
For example, in Example 1.3.7, each element of the colimit is an element of
something upstairs, but you can’t say in advance what it is an element of. For
instance,17/125isanelementofthe5!3 Z(or5!4 Z,orlaterones),butnot5!2 Z.
Thisideaappliestomanycategorieswhoseobjectscanbeinterpretedassets
withadditionalstructure(suchasabeliangroups,A-modules,groups,etc.). For
example,thecolimitcolimM inthecategoryofA-modulesMod canbedescribed
i A
as follows. The set underlying colimM is defined as in Exercise 1.3.E. To add
i
theelementsm M andm M ,choosean) I witharrowsu: i )and
i i j j
↑ ↑ ↑
v: j ),andthendefinethesumofm andm tobeF(u)(m )+F(v)(m ) M .
i j i j &
↑
→
→\nContent preview: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 47
Colimitsdonotalwaysexist,buttherearetwousefullargeclassesofexamples
forwhichtheydo.
1.3.8. Definition. Anonemptypartiallyorderedset(S, )isfiltere...\n---\n\nExercise: Page48 (Page 48)\nRaw line: 48 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
Theelementm M is0ifandonlyifthereissomearrowu: i kforwhich
i i
↑
F(u)(m )=0,i.e.,ifitbecomes0“laterinthediagram”. Last,multiplicationbyan
i
elementofAisdefinedintheobviousway.
→
1.3.F.EXERCISE. VerifythattheA-moduledescribedaboveisindeedthecolimit.
(Make sure you verify that addition is well-defined, i.e., is independent of the
choiceofrepresentativesm andm ,thechoiceof),andthechoiceofarrowsuand
i j
v. Similarly,makesurethatscalarmultiplicationiswell-defined.)
1.3.G. USEFUL EXERCISE (LOCALIZATION AS A COLIMIT). Generalize Exer-
cise1.3.D(a)tointerpretlocalizationofanintegraldomainasacolimitoverafiltered
set: supposeSisamultiplicativesetofA,andinterpretS!1A=colim1Awhere
s
thecolimitisovers S,andinthecategoryofA-modules. (Aside: Canyoumake
↑
someversionofthisworkevenifAisn’tanintegraldomain,e.g.,S!1A=colimA ?
s
ThiswillworkinthecategoryofA-algebras.)
Avariantofthisconstructionworkswithoutthefilteredcondition,ifyouhave
anothermeansof“connectingelementsindifferentobjectsofyourdiagram”. For
example:
1.3.H.EXERCISE: COLIMITSOFA-MODULESWITHOUTTHEFILTEREDCONDITION.
Suppose you are given a diagram of A-modules indexed by I: F: I Mod ,
A
whereweletM := F(i). Showthatthecolimitis M modulotherelations
i ⇓ i ↔ I i
m
i
!F(n)(m
i
)foreveryn: i jinI (i.e.,foreveryarrowinthediagram→). (Some-
whatmoreprecisely: “modulo”means“quotientedbythesubmodulegenerated
by”.) →
1.3.9. Summary. Oneusefulthingtoinformallykeepinmindisthefollowing. Ina
categorywheretheobjectsare“set-like”,anelementofalimitcanbethoughtof
asafamilyofelementsofeachobjectinthediagram,thatare“compatible”(Exer-
cise1.3.C).Andanelementofacolimitcanbethoughtofas(“hasarepresentative
thatis”)anelementofasingleobjectinthediagram(Exercise1.3.E).Eventhough
thedefinitionsoflimitandcolimitarethesame,justwitharrowsreversed,these
interpretationsarequitedifferent.
1.3.10. Smallremark. Infact,colimitsexistinthecategoryofsetsforallreasonable
(“small”)indexcategories(seeforexample[E,Thm.A6.1]),butthatwon’tmatter
tous.
1.3.11. Joke. Whatdoyoucallsomeonewhoreadsapaperoncategorytheory?
Answer: Acoauthor.
1.4Adjoints
Wenextcometoaveryusefulnotioncloselyrelatedtouniversalproperties.
Justasauniversalproperty“essentially”(uptouniqueisomorphism)determines
an object in a category (assuming such an object exists), “adjoints” essentially
determineafunctor(again,assumingitexists). TwocovariantfunctorsF: A B
→\nContent preview: 48 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
Theelementm M is0ifandonlyifthereissomearrowu: i kforwhich
i i
↑
F(u)(m )=0,i.e.,ifitbecomes0“laterinthediagram”. Las...\n---\n\nExercise: Page49 (Page 49)\nRaw line: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 49
andG: B A areadjointifthereisanaturalbijectionforallA A andB B
↑ ↑
(1.4.0.1) τ : Mor (F(A),B) Mor (A,G(B)).
AB B A
→
Wesaythat(F,G)formanadjointpair, andthatFisleft-adjointtoG(andGis
right-adjointtoF). WesayFisaleftadjoin→t(andGisarightadjoint). By“natural”
wemeanthefollowing. Forallf: A A inA,werequire
→
(1.4.0.2) Mor (F(A ),B)
Ff↑
$$Mor (F(A),B)
B → → B
φ A→B φAB
%% %%
Mor (A ,G(B))
f↑
$$Mor (A,G(B))
A → A
tocommute,andforallg: B B inBwewantasimilarcommutativediagramto
→
commute. (Heref isthemapinducedbyf: A A ,andFf isthemapinduced
↘ → ↘
byFf: F(A) F(A
→
).)
→
→
1.4.A.EXERCISE. Writedownwhatthisdiagramshouldbe.
→
1.4.B. EXERCISE. Show that the map τ
AB
(1.4.0.1) has the following properties.
For each A there is a map η : A GF(A) so that for any g: F(A) B, the
A
correspondingτ (g): A G(B)isgivenbythecomposition
AB
→ →
A
ηA
$$GF(A)
Gg
$$G(B).
→
Similarly,thereisamap, : FG(B) BforeachBsothatforanyf: A G(B),
B
thecorrespondingmapτ!1(f): F(A) Bisgivenbythecomposition
AB
→ →
F(A)
Ff
$$FG(B)
)B
$$B.
→
Hereisakeyexampleofanadjointpair.
1.4.C.EXERCISE. SupposeM,N,andPareA-modules(whereAisaring).Describe
abijectionHom (M N,P) Hom (M,Hom (N,P)). (Hint: trytousethe
A A A A
⇒
universalpropertyof .)
⇒
⇓
1.4.D.EXERCISE(TENSOR-HOMADJUNCTION). Showthat()
A
NandHom
A
(N, )
· ⇒ ·
areadjointfunctors.
1.4.E.EXERCISE. SupposeB Aisamorphismofrings. IfMisanA-module,you
cancreateaB-moduleM byconsideringitasaB-module. Thisgivesafunctor
B
B
: Mod
A
Mod
B
. Showtha→tthisfunctorisright-adjointto
B
A. Inotherwords,
· ·⇒
describeabijection
→ Hom (N A,M)= ∼ Hom (N,M )
A B B B
⇒
functorialinbotharguments. (Thisadjointpairisveryimportant.)
1.4.1. ωFancierremarkswewon’tuse. Youcancheckthattheleftadjointdetermines
therightadjointuptonaturalisomorphism,andviceversa.Themapsη and, of
A B
Exercise1.4.Barecalledtheunitandcounitoftheadjunction.Thisleadstoadifferent
characterizationofadjunction. SupposefunctorsF: A B andG: B A are
given,alongwithnaturaltransformationsη: id GFand,: FG id withthe
A B
propertythatG,
↔
ηG=id
G
(foreachB
↑
B,thecomp→ositionofη
G(B)
:
→
G(B)
→ →
→\nContent preview: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 49
andG: B A areadjointifthereisanaturalbijectionforallA A andB B
↑ ↑
(1.4.0.1) τ : Mor (F(A),B) Mor (A,G(B)).
AB B A
→
Wesaythat(F,G)formanadjointp...\n---\n\nExercise: Page50 (Page 50)\nRaw line: 50 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
GFG(B)andG(, ): GFG(B) G(B)istheidentity)and,F Fη=id . Thenyou
B F
↔
cancheckthatFisleft-adjointtoG. Thesefactsaren’thardtocheck,soifyouwant
tousethem,youshouldverif→yeverythingforyourself.
1.4.2. Examples from other fields. For those familiar with representation theory:
Frobenius reciprocity may be understood in terms of adjoints. Suppose V is a
finite-dimensionalrepresentationofafinitegroupG,andW isarepresentationof
asubgroupH<G. Theninductionandrestrictionareanadjointpair(IndG,ResG)
H H
betweenthecategoryofG-modulesandthecategoryofH-modules.
Topologists’favoriteadjointpairmaybethesuspensionfunctorandtheloop
spacefunctor.
1.4.3. Example: groupificationofabeliansemigroups. Hereisanothermotivating
example: gettinganabeliangroupfromanabeliansemigroup. (Anabeliansemi-
groupisjustlikeanabeliangroup,exceptwedon’trequireanidentityoraninverse.
Morphismsofabeliansemigroupsaremapsofsetspreservingthebinaryoperation.
Oneexampleisthenon-negativeintegersZ≃ 0 ={0,1,2,...}underaddition. An-
otheristhepositiveintegersZ + ={1,2,3,...}underaddition. Yetanotheristhe
positiveintegersZ + undermultiplication. Youmayenjoygroupifyingallthree.)
Fromanabeliansemigroup,youcancreateanabeliangroup.Inourexamples,from
the nonnegativeintegers underaddition (Z≃ 0,+), we create theintegers (Z,+),
andfromthepositiveintegersundermultiplication(Z +, ),wecreatethepositive
↗
rationals(Q +, ). Hereisaformalizationofthatnotion. Agroupificationofan
↗
abeliansemigroupSisamapofabeliansemigroupsϑ: S GsuchthatGisan
abeliangroup,andanymapofabeliansemigroupsfromStoanabeliangroupG
→
factorsuniquelythroughG:
→
π
S $$G
!
↑
!! %%
G
→
(Perhaps“abeliangroupification”wouldbemoreprecisethan“groupification”.)
1.4.F.EXERCISE(ANABELIANGROUPISGROUPIFIEDBYITSELF). Showthatifan
abeliansemigroupisalreadyagroupthentheidentitymorphismisthegroupifica-
tion. (Morecorrect: theidentitymorphismisagroupification.) Notethatyoudon’t
needtoconstructgroupification(orevenknowthatitexistsingeneral)tosolvethis
exercise.
1.4.G.EXERCISE. Constructthe“groupificationfunctor”Hfromthecategoryof
nonemptyabeliansemigroupstothecategoryofabeliangroups. (Onepossible
construction: given an abelian semigroup S, the elements of its groupification
H(S)areorderedpairs(a,b) S S,whichyoumaythinkofasa!b,withthe
↑ ↗
equivalencethat(a,b) ∼ (c,d)ifa+d+e = b+c+eforsomee S. Describe
↑
additioninthisgroup,andshowthatitsatisfiesthepropertiesofanabeliangroup.
DescribetheabeliansemigroupmapS H(S).) LetFbetheforgetfulfunctorfrom
thecategoryofabeliangroupsAbtothecategoryofabeliansemigroups. Showthat
Hisleft-adjointtoF.
→\nContent preview: 50 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
GFG(B)andG(, ): GFG(B) G(B)istheidentity)and,F Fη=id . Thenyou
B F
↔
cancheckthatFisleft-adjointtoG. Thesefactsaren’t...\n---\n\nExercise: Page51 (Page 51)\nRaw line: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 51
(Hereisthegeneralideaforexperts: Wehaveafullsubcategoryofacategory.
Wewantto“project”fromthecategorytothesubcategory. Wehave
Mor (S,H)=Mor (G,H)
category subcategory
automatically;thuswearedescribingtheleftadjointtotheforgetfulfunctor. How
theargumentworked:weconstructedsomethingwhichwasinthesmallercategory,
whichautomaticallysatisfiestheuniversalproperty.)
1.4.H. EXERCISE (CF. EXERCISE 1.4.E). The purpose of this exercise is to give
youmorepracticewith“leftadjointsofforgetfulfunctors”,themeansbywhich
we get abelian groups from abelian semigroups, and sheaves from presheaves.
SupposeAisaring,andSisamultiplicativesubset. ThenS!1A-modulesarea
fullsubcategory(§1.1.15)ofthecategoryofA-modules(viatheobviousinclusion
Mod ε Mod ). ThenMod Mod canbeinterpretedasanadjointto
S!1A A A S!1A
theforgetfulfunctorMod Mod . Stateandprovethecorrectstatements.
S!1A A
(Here→isthelargerstory. Ever→yS!1A-moduleisanA-module,andthisisan
injective map, so we have a fo→rgetful functor F: Mod
S!1A
Mod
A
. In fact this
is a fully faithful functor: it is injective on objects, and the morphisms between
anytwoS!1A-modulesasA-modulesarejustthesamewhen→theyareconsidered
as S!1A-modules. Then there is a functor G: Mod Mod , which might
A S!1A
reasonablybecalled“localizationwithrespecttoS”,whichisleft-adjointtothe
forgetfulfunctor. Translation:IfMisanA-module,and→NisanS!1A-module,then
Mor(GM,N)(morphismsasS!1A-modules,whicharethesameasmorphismsas
A-modules)areinnaturalbijectionwithMor(M,FN)(morphismsasA-modules).)
Table1givesmostoftheadjointsthatwillcomeupforus. Otherexamples
willalsocomeup,suchastheadjointpair(∼,Γ )betweengradedmodulesovera
•
gradedring,andquasicoherentsheavesonthecorrespondingprojectivescheme
(§15.7).
1.4.4. Lastcommentsonlyforpeoplewhohaveseenadjointsbefore. If(F,G)isanadjoint
pairoffunctors,thenFcommuteswithcolimits,andGcommuteswithlimits. Also,
limitscommutewithlimitsandcolimitscommutewithcolimits. Wewillprove
thesefacts(andalittlemore)in§1.5.14.
1.5Anintroductiontoabeliancategories
Ton papier sur l’Alge`bre homologique a e´te´ lu soigneusement, et a converti tout le
monde(meˆmeDieudonne´,quisemblecomple`tementfonctorise´!) a` tonpointdevue.
Yourpaperonhomologicalalgebrawasreadcarefullyandconvertedeveryone(even
Dieudonne´,whoseemstobecompletelyfunctorised!) toyourpointofview.
—J.-P.Serre,lettertoA.Grothendieck,Jul13,1955[GrS,p.17-18]
Since learning linear algebra, you have been familiar with the notions and
behaviorsofkernels,cokernels,etc. Laterinyourlifeyousawtheminthecategory
ofabeliangroups,andlaterstillinthecategoryofA-modules.
We will soon define some new categories (certain sheaves) that will have
familiar-lookingbehavior,reminiscentofthatofmodulesoveraring. Thenotions\nContent preview: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 51
(Hereisthegeneralideaforexperts: Wehaveafullsubcategoryofacategory.
Wewantto“project”fromthecategorytothesubcategory. Wehave
Mor (S,H)=Mor (G,H)
...\n---\n\nExercise: Page56 (Page 56)\nRaw line: 56 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
thatHisthecokernelofthismonomorphism.) Therefore,(1.5.6.1)isexactatBif
and only if its homology at B is 0. We say that elements of kerg (assuming the
objectsofthecategoryaresetswithsomeadditionalstructure)arethecycles,and
elementsofimfaretheboundaries(sohomologyis“cyclesmodboundaries”).
If the complex is indexed in decreasing order, the indices are often written as
subscripts, and H is the homology at A A A . If the complex is
i i+1 i i!1
indexedinincreasingorder,theindicesareoftenwrittenassuperscripts,andthe
homologyHiatAi!1 Ai Ai+1isoftenca→lledcoh→omology.
Anexactsequence
→ →
(1.5.6.2) A : $$Ai!1
fi!1
$$Ai
fi
$$Ai+1
fi+1
$$
•
··· ···
canbe“factored”intoshortexactsequences
0 $$kerfi $$Ai $$kerfi+1 $$0
whichishelpfulinprovingfactsaboutlongexactsequencesbyreducingthemto
factsaboutshortexactsequences.
More generally, if (1.5.6.2) is assumed only to be a complex, then it can be
“factored”intoshortexactsequences.
(1.5.6.3) 0 $$kerfi $$Ai $$imfi $$0
0 $$imfi!1 $$kerfi $$Hi(A ) $$0
•
1.5.A.EXERCISE. Describeexactsequences
(1.5.6.4) 0 $$imfi $$Ai+1 $$cokerfi $$0
0 $$Hi(A ) $$cokerfi!1 $$imfi $$0
•
(Thesearesomehowdualto(1.5.6.3). Infactinsomemirroruniversethismight
havebeengivenasthestandarddefinitionofhomology.) Assumethecategoryis
thatofmodulesoverafixedringforconvenience,butbeawarethattheresultis
trueforanyabeliancategory.
1.5.B.EXERCISEANDIMPORTANTDEFINITION. Suppose
0
d0
$$A1
d1
$$
dn!1
$$An
dn
$$$$0
···
isacomplexoffinite-dimensionalk-vectorspaces(oftencalledA forshort).Define
•
hi(A ) := dimHi(A ). Showthat (!1)idimAi = (!1)ihi(A ). Inparticular,
• • •
ifA isexact,then (!1)idimAi =0. (Ifyouhaven’tdealtmuchwithcohomol-
•
⇔ ⇔
ogy,thiswillgiveyousomepractice.)
⇔
1.5.C. IMPORTANT EXERCISE. Suppose C is an abelian category. Define the
categoryCom ofcomplexes)asfollows. Theobjectsareinfinitecomplexes
C
A : $$Ai!1
fi!1
$$Ai
fi
$$Ai+1
fi+1
$$
•
··· ···\nContent preview: 56 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
thatHisthecokernelofthismonomorphism.) Therefore,(1.5.6.1)isexactatBif
and only if its homology at B is 0. We say tha...\n---\n\nExercise: Page57 (Page 57)\nRaw line: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 57
inC,andthemorphismsA B arecommutingdiagrams
• •
(1.5.6.5) $$A→ i!1
fi!1
$$Ai
fi
$$Ai+1
fi+1
$$
··· ···
%% gi!1 %% gi %% gi+1
$$Bi!1 $$Bi $$Bi+1 $$
··· ···
ShowthatCom isanabeliancategory.
C
Feelfreetodealwiththespecialcaseofmodulesoverafixedring. (Remark
forexperts: EssentiallythesameargumentshowsthatCI isanabeliancategory
foranysmallcategoryI andanyabeliancategoryC. Thisimmediatelyimplies
thatthecategoryofpresheavesonatopologicalspaceXwithvaluesinanabelian
categoryC isautomaticallyanabeliancategory,cf.§2.3.5.)
1.5.D. IMPORTANT EXERCISE. Show that (1.5.6.5) induces a map of homology
Hi(A
•
) Hi(B
•
). ShowfurthermorethatHi isacovariantfunctorCom
C
C.
(Again,feelfreetodealwiththespecialcaseMod .)
A
→ →
1.5.7. Homotopic maps induce the same maps on homology. We say two maps of
complexesf: C D andg: C D arehomotopic ifthereisasequenceof
• • • •
mapsw: Ci Di!1suchthatf!g=dw+wd.
→ →
1.5.E.EXERCISE. Showthattwohomotopicmapsgivethesamemaponhomology.
→
1.5.8. Theorem(Longexactsequences). — Ashortexactsequenceofcomplexes
0 : $$0 $$0 $$0 $$
•
··· ···
A
%%
: $$Ai!
%%
1
fi!1
$$A
%%
i
fi
$$Ai+
%%
1
fi+1
$$
•
··· ···
%% %% gi!1 %% gi %% gi+1
B : $$Bi!1 $$Bi $$Bi+1 $$
•
··· ···
C
%%
: $$Ci!
%%
1
hi!1
$$C
%%
i
hi
$$Ci+
%%
1
hi+1
$$
•
··· ···
%% %% %% %%
0 : $$0 $$0 $$0 $$
•
··· ···
inducesalongexactsequenceincohomology
$$Hi!1(C ) $$
•
···
Hi(A ) $$Hi(B ) $$Hi(C ) $$
• • •
Hi+1(A ) $$
•
···\nContent preview: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 57
inC,andthemorphismsA B arecommutingdiagrams
• •
(1.5.6.5) $$A→ i!1
fi!1
$$Ai
fi
$$Ai+1
fi+1
$$
··· ···
%% gi!1 %% gi %% gi+1
$$Bi!1 $$Bi $$Bi+1 $...\n---\n\nExercise: Page58 (Page 58)\nRaw line: 58 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
(This requires a definition of the connecting homomorphism Hi!1(C )
•
Hi(A ),whichis“natural”inanappropriatesense.) Inthecategoryofmodules
•
overaring,Theorem1.5.8willcomeoutofourdiscussionofspectralsequence→s,
seeExercise1.6.F,butthisisasomewhatperversewayofprovingit. Foraproof
in general, see [KS1, Theorem 12.3.3]. You may want to prove it yourself, by
firstprovingaweakerversionoftheSnakeLemma(Example1.6.5),whereinthe
hypotheses(1.6.5.1),the0’sinthebottomleftandtoprightareremoved,andinthe
conclusion(1.6.5.2),thefirstandlast0’sareremoved.
1.5.9. Exactnessoffunctors. IfF: A Bisanadditivecovariantfunctorfromone
abeliancategorytoanother,wesaythatFisright-exactiftheexactnessof
→
A $$A $$A $$0,
→ →→
inA impliesthat
F(A ) $$F(A) $$F(A ) $$0
→ →→
isalsoexact. Dually,wesaythatFisleft-exactiftheexactnessof
0 $$A $$A $$A implies
→ →→
0 $$F(A ) $$F(A) $$F(A ) isexact.
→ →→
Anadditivecontravariantfunctorisleft-exactiftheexactnessof
A $$A $$A $$0 implies
→ →→
0 $$F(A ) $$F(A) $$F(A ) isexact.
→→ →
Thereadershouldbeabletodeducewhatitmeansforacontravariantfunctorto
beright-exact.
Anadditivecovariantorcontravariantfunctorisexactifitisbothleft-exact
andright-exact.
1.5.F.EXERCISE. SupposeFisanexactfunctor. ShowthatapplyingFtoanexact
sequencepreservesexactness. Forexample,ifFiscovariant,andA A A is
→ →→
exact,thenFA FA FA isexact. (ThiswillbegeneralizedinExercise1.5.I(c).)
→ →→
→ →
1.5.G.EXERCISE. SupposeAisaring,S Aisamultiplicativesubset,andMis
→ → ≃
anA-module.
(a)ShowthatlocalizationofA-modulesMod Mod isanexactcovariant
A S!1A
functor.
(b)Showthat()
A
Misaright-exactcovariant→functorMod
A
Mod
A
. (Thisisa
· ⇒
repeatofExercise1.2.H.)
(c)ShowthatHom(M, )isaleft-exactcovariantfunctorMod A→ Mod A . IfC is
·
any abelian category, and C C, show that Hom(C, ) is a left-exact covariant
↑ ·
functorC Ab. →
(d)ShowthatHom(,M)isaleft-exactcontravariantfunctorMod Mod .IfC is
A A
·
anyabelian→category,andC C,showthatHom(,C)isaleft-exactcontravariant
↑ ·
functorC Ab. →
→\nContent preview: 58 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
(This requires a definition of the connecting homomorphism Hi!1(C )
•
Hi(A ),whichis“natural”inanappropriatesense.) I...\n---\n\nExercise: Page59 (Page 59)\nRaw line: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 59
1.5.H. EXERCISE. SupposeMisafinitelypresentedA-module: Mhasafinite
numberofgenerators,andwiththesegeneratorsithasafinitenumberofrelations;
orusefullyequivalently,fitsinanexactsequence
(1.5.9.1) A q $$A p $$M $$0
⇐ ⇐
Use(1.5.9.1)andtheleft-exactnessofHomtodescribeanisomorphism
S!1Hom (M,N)++ ∼ $$Hom (S!1M,S!1N).
A S!1A
(YoumightbeabletointerpretthisinlightofavariantofExercise1.5.Ibelow,for
left-exactcontravariantfunctorsratherthanright-exactcovariantfunctors.)
1.5.10. Example: Homdoesn’talwayscommutewithlocalization. Inthelanguageof
Exercise1.5.H,takeA=N=Z,M=Q,andS=Z\{0}.
1.5.11. ωTwousefulfactsinhomologicalalgebra.
We now come to two (sets of) facts I wish I had learned as a child, as they
would have saved me lots of grief. They encapsulate what is best and worst of
abstractnonsense. Thestatementsaresogeneralastobenonintuitive. Theproofs
areveryshort. Theygeneralizesomespecificbehaviorthatiseasytoproveonan
adhocbasis. Oncetheyaresecondnaturetoyou,manysubtlefactswillbecome
obvioustoyouasspecialcases. Andyouwillseethattheywillgetused(implicitly
orexplicitly)repeatedly.
1.5.12. ωInteractionofhomologyand(right/left-)exactfunctors.
YoumightwaittoprovethisuntilyoulearnaboutcohomologyinChapter18,
whenitwillfirstbeusedinaseriousway.
1.5.I. IMPORTANT EXERCISE (THE FHHF THEOREM). This result can take you
far, and perhaps for that reason it has sometimes been called the Fernbahnhof
(FernbaHnHoF)Theorem,notablyin[Vak1,Exer.1.5.I].SupposeF: A B isa
covariantfunctorofabeliancategories,andC isacomplexinA.
•
(a) (Fright-exactyields FH
•
$$H
•
F)IfFisright-exact,describe→anatural
morphismFH H F.(Moreprecisely,foreachi,theleftsideisFapplied
• •
tothecohomologyatpieceiofC ,whiletherightsideisthecohomology
•
atpieceiofFC •→.)
(b) (F left-exact yields FH • ++ H • F) If F is left-exact, describe a natural
morphismH F FH .
• •
∼
(c) (Fexactyields FH
•
++ $$H
•
F)IfFisexact,showthatthemorphismsof
(a)and(b)arein→versesandthusisomorphisms.
Hint for (a): use Ci
di
$$Ci+1 $$cokerdi $$0 to give an isomorphism
Fcokerdi ∼ cokerFdi. Thenusethefirstlineof(1.5.6.4)togiveanepimorphism
Fimdi ↫ imFdi. Then use the second line of (1.5.6.4) to give the desired map
FHiC
•
H↑ i →FC
•
. Whileyouareatit,youmayaswelldescribeamapforthefourth
memberofthequartet{coker,im,H,ker}: Fkerdi kerFdi.
→
1.5.13. Ifthismakesyourheadspin,youmayprefertothinkofitinthefollowing
→
specificcase,wherebothA andBarethecategoryofA-modules,andFis() N
A
· ⇒
for some fixed A-module N. Your argument in this case will translate without\nContent preview: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 59
1.5.H. EXERCISE. SupposeMisafinitelypresentedA-module: Mhasafinite
numberofgenerators,andwiththesegeneratorsithasafinitenumberofrelations;
orusef...\n---\n\nExercise: Page60 (Page 60)\nRaw line: 60 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
change to yield a solution to Exercise 1.5.I(a) and (c) in general. If N is exact,
⇒
thenNiscalledaflatA-module. (Thenotionofflatnesswillturnouttobevery
important,andisdiscussedindetailinChapter24.)
Forexample,localizationisexact(Exercise1.5.G(a)),soS!1AisaflatA-algebra
forallmultiplicativesetsS. ThustakingcohomologyofacomplexofA-modules
commuteswithlocalization—somethingyoucouldverifydirectly.
1.5.14. Interactionofadjoints,(co)limits,and(left-andright-)exactness.
Asurprisingnumberofargumentsboildowntothestatement:
Limitscommutewithlimitsandrightadjoints. Inparticular,inanabeliancategory,
becausekernelsarelimits,bothlimitsandrightadjointsareleft-exact.
aswellasitsdual:
Colimitscommutewithcolimitsandleftadjoints. Inparticular,becausecokernelsare
colimits,bothcolimitsandleftadjointsareright-exact.
Thesestatementswerepromisedin§1.4.4,andwillbeprovedbelow. Thelatter
hasausefulextension:
InMod ,colimitsoverfilteredindexcategoriesareexact. “Filtered”wasdefinedin
A
§1.3.8.
1.5.15. ωω Caution. It is not true that in abelian categories in general, colimits
overfilteredindexcategoriesareexact. (Grothendieckrealizedthedesirabilityof
suchcolimitsbeingexact,andformalizedthisashis“AB5”axiom,seeforexample
[Stacks, tag 079A].) Here is a counterexample. Because the axioms of abelian
categoriesareself-dual,itsufficestogiveanexampleinwhichacofilteredlimitfails
tobeexact(wherecofilteredhastheobviousdualdefinitiontofiltered),andwedo
this. Fixaprimep. InthecategoryAbofabeliangroups,foreachpositiveinteger
n,wehaveanexactsequenceZ Z/(pn) 0. Takingthelimitoverallninthe
obviousway,weobtainZ Zp 0,whichiscertainlynotexact.)
UnimportantRemark1.5.18w→illdasha→notherhopeyoumayhave.
→ →
1.5.16. Ifyouwanttousethesestatements(forexample,laterinthisbook),youwill
havetoprovethem. Let’snowmakethemprecise.
1.5.J. EXERCISE (KERNELS COMMUTE WITH LIMITS). Suppose C is an abelian
category, and a: I C and b: I C are two diagrams in C indexed by I.
Forconvenience,letA =a(i)andB =b(i)betheobjectsinthosetwodiagrams.
i i
Leth
i
: A
i
B
i
bem→apscommuting→withthemapsinthediagram. (Translation:
h is a natural transformation of functors a b, see §1.1.21.) Then the kerh
i
form anoth→er diagram in C indexed by I. Describe a canonical isomorphism
∼
limkerh
i
ker(limA
i
limB
i
),assuming→thelimitsexist.
Implicit in the previous exercise is the idea that limits should somehow be
understoo↑d→asfunctors. →
1.5.K.EXERCISE. Makesenseofthestatementthat“limitscommutewithlimits”in
ageneralcategory,andproveit. (Hint: recallthatkernelsarelimits. Theprevious
exerciseshouldbeacorollaryofthisone.)
1.5.17. Proposition (right adjoints commute with limits). — Suppose (F: C
D,G: D C)isapairofadjointfunctors. IfA = limA isalimitinD ofadiagram
i
→
→\nContent preview: 60 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
change to yield a solution to Exercise 1.5.I(a) and (c) in general. If N is exact,
⇒
thenNiscalledaflatA-module. (The...\n---\n\nExercise: Page61 (Page 61)\nRaw line: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 61
indexedbyI,thenGA=limGA (withthecorrespondingmapsGA GA )isalimit
i i
inC.
→
Proof. We must show that GA GA satisfies the universal property of limits.
i
SupposewehavemapsW GA commutingwiththemapsofI. Wewishto
i
showthatthereexistsauniqueW → GAextendingtheW GA i . Byadjointness
ofFandG,wecanrestateth→isas: SupposewehavemapsFW A
i
commuting
withthemapsofI. Wewishtosho→wthatthereexistsauniq→ueFW Aextending
theFW A i . Butthisispreciselytheuniversalpropertyofthe→limit. ↭
Ofcourse,thedualstatementstoExercise1.5.KandProposition→1.5.17holdby
thedual→arguments.
IfFandGareadditivefunctorsbetweenabeliancategories, and(F,G)isan
adjointpair,then(askernelsarelimitsandcokernelsarecolimits)Gisleft-exact
andFisright-exact.
1.5.L. EXERCISE. ShowthatinMod
A
,colimitsoverfilteredindexcategoriesare
exact. (Yourargumentwillapplywithoutchangetoanyabeliancategorywhose
objects can be interpreted as “sets with additional structure”.) Right-exactness
follows from the above discussion, so the issue is left-exactness. (Possible hint:
Afteryoushowthatlocalizationisexact,Exercise1.5.G(a),orstalkificationisexact,
Exercise2.6.E,inahands-onway,youwillbeeasilyabletoprovethis. Conversely,
ifyoudothisexercise,thosetwowillbeeasy.)
1.5.M.EXERCISE. ShowthatfilteredcolimitscommutewithhomologyinMod
A
.
Hint: usetheFHHFTheorem(Exercise1.5.I),andthepreviousExercise.
InlightofExercise1.5.M,youmaywanttothinkabouthowlimits(andcolimits)
commutewithhomologyingeneral,andwhichwaymapsgo. Thestatementof
theFHHFTheoremshouldsuggesttheanswer. (Arelimitsanalogoustoleft-exact
functors,orright-exactfunctors?) Wewon’tdirectlyusethisinsight,butsee§18.1
(vii)foranexample.
Justascolimitsareexact(notjustright-exact)inespeciallygoodcircumstances,
limitsareexact(notjustleft-exact)too. ThefollowingwillbeusedtwiceinChap-
ter28.\nContent preview: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 61
indexedbyI,thenGA=limGA (withthecorrespondingmapsGA GA )isalimit
i i
inC.
→
Proof. We must show that GA GA satisfies the universal property of li...\n---\n\nExercise: Page62 (Page 62)\nRaw line: 62 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
1.5.N.EXERCISE. Suppose
. . .
. . .
. . .
%%%% %% %%
0 $$A $$B $$C $$0
n+1 n+1 n+1
%%%% %% %%
0 $$A $$B $$C $$0
n n n
%%%% %% %%
. . .
. . .
. . .
%%%% %% %%
0 $$A $$B $$C $$0
0 0 0
is an inverse system of exact sequences of modules over a ring, such that the
maps A A are surjective. (We say: “transitionmaps of theleft term are
n+1 n
surjective”.) Showthatthelimit
→
(1.5.17.1) 0 $$limA $$limB $$limC $$0
n n n
isalsoexact. (Youwillneedtodefinethemapsin(1.5.17.1).)
1.5.18. UnimportantRemark. Basedontheseideas,youmaysuspectthatright-exact
functorsalwayscommutewithcolimits. Thefactthattensorproductcommutes
withinfinitedirectsums(Exercise1.2.M)mayreinforcethisidea. Unfortunately,
itisnottrue—“doubledual” ∨∨ : Vec Vec iscovariantandrightexact(in
k k
·
fact,exact),butdoesnotcommutewithinfinitedirectsums,as (k∨∨)isnot
⇓i=1
isomorphicto( ⇓i=1 k)∨∨. → →
→
1.5.19. ωDreamingofderivedfunctors. Whenyouseealeft-exactfunctor,you
shouldalwaysdreamthatyouareseeingtheendofalongexactsequence. If
0 $$M $$M $$M $$0
→ →→
isanexactsequenceinabeliancategoryA,andF: A Bisaleft-exactfunctor,
then
0 $$FM $$FM $$FM→
→ →→
isexact,andyoushouldalwaysdreamthatitshouldcontinueinsomenaturalway.
Forexample,thenexttermshoulddependonlyonM ,callitR1FM ,andifitis
→ →
zero,thenFM FM isanepimorphism. Thisremarkholdstrueforleft-exact
→→
andcontravariantfunctorstoo. Ingoodcases,suchacontinuationexists,andis
incrediblyusefu→l. WewilldiscussthisinChapter23.
1.6ωSpectralsequences\nContent preview: 62 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
1.5.N.EXERCISE. Suppose
. . .
. . .
. . .
%%%% %% %%
0 $$A $$B $$C $$0
n+1 n+1 n+1
%%%% %% %%
0 $$A $$B $$C $$0
n n n...\n---\n\nExercise: Page67 (Page 67)\nRaw line: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 67
1.6.A.EXERCISE: INFORMATION FROM THE SECOND PAGE. ShowthatH0(E • )=
E0,0 =E0,0and
2
→ 0 $$E0,1 $$H1(E ) $$E1,0
d1
2
,0
$$E0,2 $$H2(E )
2 • 2 2 •
isexact.
1.6.3. Theotherorientation.
You may have observed that we could as well have done everything in the
oppositedirection,i.e.,reversingtherolesofhorizontalandverticalmorphisms.
Thenthesequencesofarrowsgivingthespectralsequencewouldlooklikethis
(compareto(1.6.2.1)).
(1.6.3.1)
•,,
$$
• •
&&
•
00
•
This spectral sequence is denoted E , (“with the upward orientation”). Then
••
we would again get pieces of a filtra•tion of H (E ) (where we have to be a bit
• •
carefulwiththeorderwithwhich↓Ep,q correspondstothesubquotients—itis
theoppositeordertothatof(1.6.2.2)for Ep,q). Warning: ingeneralthereisno
isomorphismbetween Ep,qand E↓p→,q.
Infact,thisobservationthatwecanst↑art→witheitherthehorizontalorvertical
mapswasoursecretgoa↑la→llalong.↓Bo→thalgorithmscomputeinformationaboutthe
samething(H (E )),andusuallywedon’tcareaboutthefinalanswer—weoften
• •
careabouttheanswerwegetinoneway,andwegetatitbydoingthespectral
sequenceintheotherway.
1.6.4. Examples.
Wearenowreadytoseehowthisisuseful. Themoraloftheseexamplesis
thefollowing. Inthepast,youmayhaveprovedvariousfactsinvolvingvarious
sortsofdiagrams,bychasingelementsaround. Now,youwilljustplugtheminto
aspectralsequence,andletthespectralsequencemachinerydoyourchasingfor
you.
1.6.5. Example: ProvingtheSnakeLemma. Considerthediagram
(1.6.5.1) 0 $$D $$E $$F $$0
,, ,, ,,
ϑ ϖ γ
0 $$A $$B $$C $$0
where the rows are exact in the middle (at A, B, C, D, E, F) and the squares
commute. (Normally the Snake Lemma is described with the vertical arrows
pointingdownwards,butIwanttofitthisintomyspectralsequenceconventions.)\nContent preview: ©2024RaviVakil.PublishedbyPrincetonUniversityPress. 67
1.6.A.EXERCISE: INFORMATION FROM THE SECOND PAGE. ShowthatH0(E • )=
E0,0 =E0,0and
2
→ 0 $$E0,1 $$H1(E ) $$E1,0
d1
2
,0
$$E0,2 $$H2(E )
2 • 2 2 •
...\n---\n\nExercise: Page68 (Page 68)\nRaw line: 68 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
Wewishtoshowthatthereisanexactsequence
(1.6.5.2) 0 kerα kerβ kerγ cokerα cokerβ cokerγ 0.
Weplugthisintoourspectralsequencemachinery. Wefirstcomputethecoho-
→ → → → → → →
mologyusingtherightwardorientation,i.e.,usingtheorder(1.6.2.1). Thenbecause
the rows are exact, Ep,q = 0, so the spectral sequence has already converged:
1
Ep,q =0.
Wenextcomputethis“0”inanotherway,bycomputingthespectralsequence
us→ingtheupwardorientation. Then E , (withitsdifferentials)is:
•1•
0 $$cokerα $$↓cokerβ $$cokerγ $$0
0 $$kerα $$kerβ $$kerγ $$0.
Then E , isoftheform:
•2•
↓ 0 0
0 && ?? &&? ? 0
0 ? &&? && ?? &&0
&&0 &&0
Weseethatafter E ,allthetermswillstabilizeexceptforthedoublequestionmarks
2
—allmapstoandfromthesinglequestionmarksaretoandfrom0-entries. And
after E ,eventh↓esetwodouble-question-marktermswillstabilize. Butintheend
3
ourcomplexmustbethe0complex. Thismeansthatin E ,alltheentriesmustbe
2
zero,↓exceptforthetwodoublequestionmarks,andthesetwomustbeisomorphic.
Thismeansthat0 kerα kerβ kerγandcokerα↓ cokerβ cokerγ 0
arebothexact(thatcomesfromthevanishingofthesinglequestionmarks),and
→ → → → → →
∼
coker(kerβ kerγ)=ker(cokerα cokerβ)
isanisomorphism(thatcomesfromtheequalityofthedoublequestionmarks).
→ →
Taken together, we have proved the exactness of (1.6.5.2), and hence the Snake
Lemma! (Notice: intheendwedidn’treallycareaboutthedoublecomplex. We
justuseditasaproptoprovetheSnakeLemma.)
Spectralsequencesmakeiteasytoseehowtogeneralizeresultsfurther. For
example,ifA Bisnolongerassumedtobeinjective,howwouldtheconclusion
change?
→
1.6.B. UNIMPORTANT EXERCISE (GRAFTING EXACT SEQUENCES, A VARIANT OF
THE SNAKE LEMMA). ExtendtheSnakeLemmaasfollows. Supposewehavea\nContent preview: 68 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
Wewishtoshowthatthereisanexactsequence
(1.6.5.2) 0 kerα kerβ kerγ cokerα cokerβ cokerγ 0.
Weplugthisintoourspectralse...\n---\n\nExercise: Page70 (Page 70)\nRaw line: 70 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
1.6.C. EXERCISE: A SUBTLER FIVE LEMMA. Bylookingatthespectralsequence
proofoftheFiveLemmaabove,proveasubtlerversionoftheFiveLemma,where
oneoftheisomorphismscaninsteadjustberequiredtobeaninjection,andanother
caninsteadjustberequiredtobeasurjection. (Iamdeliberatelynottellingyou
whichones,soyoucanseehowthespectralsequenceistellingyouhowtoimprove
theresult.)
1.6.D.EXERCISE: ANOTHERSUBTLEVERSIONOFTHEFIVELEMMA. Ifβandφ(in
(1.6.6.1))areinjective,andαissurjective,showthatγisinjective. Givethedual
statement(whoseproofisofcourseessentiallythesame).
Thenexttwoexercisesnolongerinvolvefirstquadrantdoublecomplexes. You
willhavetothinkalittletorealizewhythereisnoreasonforconfusionoralarm.
1.6.E. IMPORTANT EXERCISE (THE MAPPING CONE). Suppose µ: A • B • is a
morphismofcomplexes. SupposeC isthesinglecomplexassociatedtothedouble
•
complexA
•
B
•
. (C
•
iscalledthemappingconeofµ.) Showthatthere→isalong
exactsequenceofcomplexes:
→Hi!1(C •) Hi(A •) Hi(B •) Hi(C •) Hi+1(A •) .
··· ···
(Thereisaslightnotationalambiguityhere; dependingonhowyouindexyour
doublecom→plex,yourlo→ngexactse→quencemi→ghtlooksl→ightlydifferen→t.) Inparticu-
lar,wewillusethefactthatµinducesanisomorphismoncohomologyifandonly
ifthemappingconeisexact. (Wewon’tuseituntiltheproofofTheorem18.2.4.)
1.6.F. EXERCISE. Usespectralsequencestoshowthatashortexactsequenceof
complexesgivesalongexactsequenceincohomology(Theorem1.5.8). (Thisisa
generalizationofExercise1.6.E.)
TheGrothendieckcomposition-of-functorsspectralsequence(Theorem23.3.5)
willbeanimportantexampleofaspectralsequencethatspecializesinanumberof
usefulways.
Youarenowreadytogooutintotheworldandusespectralsequencestoyour
heart’scontent!
1.6.7. Completedefinitionofspectralsequences,andproof.
You should most definitely not read the precise definition of a spectral se-
quence,andtheproofthattheyworkasadvertised,anytimesoonafterreadingthe
introductiontospectralsequencesabove. Butafterasuitableinterval,youshould
at least flip through a construction and proof to convince yourself that nothing
fancyisinvolved. Theideaisnotasbadasyoumightthink,see[Vak2].
Itisusefultonoticethattheproofimpliesthatspectralsequencesarefunctorial
inthe0thpage: thespectralsequenceformalismhasgoodfunctorialpropertiesin
thedoublecomplex. Unfortunately,Grothendieck’sterminology“spectralfunctor”
[Gr1,§2.4]didnotcatchon.\nContent preview: 70 Pre-publicationversion(2024-07-27)ofTheRisingSea:FoundationsofAlgebraicGeometry
1.6.C. EXERCISE: A SUBTLER FIVE LEMMA. Bylookingatthespectralsequence
proofoftheFiveLemmaabove,proveasubtlerversionof...\n---\n\n